from pathlib import Path

import bot.commands.days
import config
from config import BASE_DIR

from bot import data, timetable

from aiogram import types
from bot.commands import buttoned
from bot.data import dispatcher
from aiogram.dispatcher import filters

from bot.states import GroupSettingState, ReportingState
from aiogram.dispatcher import FSMContext
from bot.ui.keyboards import cancel_keyboard
from bot.ui.home.keyboards import home_keyboard
from bot.ui.weekdays.keyboards import weekdays_keyboard
from bot.ui.options.keyboards import options_keyboard
from bot.ui.options.website.keyboards import website_keyboard
from bot.ui.options.devinfo.keyboards import links_keyboard
from bot.ui.advertisement import advertise

import time

from bot.states import GroupSettingState, ReportingState
from aiogram.dispatcher import FSMContext


@dispatcher.callback_query_handler(text="goto_donations")
async def process_devinfo_command(call: types.CallbackQuery):
    # txt = "<b>–í–æ—Ç –æ–Ω ‚Äî <u>–ú–∞–∫—Å–∏–º–∫–∞ –ò–≤–∞–Ω–æ—Ñ—Ñ–∫–∞!</u></b> ü§ó" \
    #       "\n\n<a href='vk.com/maksimka_ivanoffka'>–í–ö–æ–Ω—Ç–∞–∫—Ç–µ</a> | " \
    #       "<a href='instagram.com/maksimka_ivanoffka/'>Instagram</a>"\
    #       "<i>\n\n–ú–æ–π –±–µ—Å–ø–æ–¥–æ–±–Ω—ã–π —Å–æ–∑–¥–∞—Ç–µ–ª—å, –∑–∞–±–æ—Ç–ª–∏–≤—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–∞ –∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–π —á–µ–ª–æ–≤–µ–∫!</i>"

    txt = "<b>ü§ó –í–æ—Ç –æ–Ω ‚Äî –ú–∞–∫—Å–∏–º–∫–∞ –ò–≤–∞–Ω–æ—Ñ—Ñ–∫–∞!</b>" \
          "\n\n<i>–≠—Ç–æ—Ç –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–π —á–µ–ª–æ–≤–µ–∫ ‚Äî –º–æ–π –µ–¥–∏–Ω–æ–ª–∏—á–Ω—ã–π —Å–æ–∑–¥–∞—Ç–µ–ª—å," \
          " –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–µ–Ω—è –Ω–∞ –≥–æ–ª–æ–º —ç–Ω—Ç—É–∑–∏–∞–∑–º–µ... –ò –æ–Ω —Ç–æ–∂–µ —Ö–æ—á–µ—Ç –∫—É—à–∞—Ç—å!</i>"\
    "<a href='https://pay.netmonet.alfabank.by/42308250'>\n\n<b>üí∏ –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç, —Ç–æ –º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–º –∫–æ–ø–µ–µ—á–∫—É –Ω–∞ —á–∞–π!</b></a>"\
            "\n\n<i>–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ú–∞–∫—Å–∏–º–∫–∞ –±—É–¥–µ—Ç –æ—á–µ–Ω—å —Ä–∞–¥, –µ—Å–ª–∏ –≤—ã –ø–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –µ–≥–æ —Å–æ—Ü—Å–µ—Ç–∏ –∏ –Ω–∞–ø–∏—à–µ—Ç–µ –µ–º—É —á—Ç–æ-–Ω–∏–±—É–¥—å –ø—Ä–∏—è—Ç–Ω–æ–µ!</i>"\
    "\n\n<a href='vk.com/maksimka_ivanoffka'><b>–í–ö–æ–Ω—Ç–∞–∫—Ç–µ</b></a> | " \
    "<a href='instagram.com/maksimka_ivanoffka/'><b>Instagram</b></a>"
    try:
        await call.message.edit_text(txt, reply_markup=options_keyboard, disable_web_page_preview=True)
    except:
        pass

    await call.answer()
    await advertise(call.from_user.id)


@dispatcher.callback_query_handler(text="show_bntu")
async def process_bntu_command(call: types.CallbackQuery):
    txt = "‚úñÔ∏è –≠—Ç–æ—Ç –±–æ—Ç –Ω–µ –∏–º–µ–µ—Ç –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è " \
        "–∫ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É –ë–µ–ª–æ—Ä—É—Å—Å–∫–æ–≥–æ –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ"\
        " –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –∏ —Å–æ–∑–¥–∞–Ω –Ω–∞ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–∞—á–∞–ª–∞—Ö."\
        "\n\n<b>‚ùó –ó–∞ –≤—Å–µ–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π —Å—Ç–æ–∏—Ç"\
        " –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Å–∞–π—Ç—É –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞.</b>" \
        "\n\n<i>üåê –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –≤–∞–º —Ä–µ–≥—É–ª—è—Ä–Ω–æ —Å–≤–µ—Ä—è—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–µ –∑–¥–µ—Å—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å –µ–≥–æ –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º –Ω–∞ —Å–∞–π—Ç–µ.</i>"\
        "\n\n<a href='https://bntu.by/raspisanie'>1-2 –∫—É—Ä—Å</a> | " \
        "<a href='https://bntu.by/faculties'>3-4 –∫—É—Ä—Å</a>"

    try:
        await call.message.edit_text(txt, reply_markup=options_keyboard, disable_web_page_preview=True)
    except:
        pass

    await call.answer()
    await advertise(call.from_user.id)


@dispatcher.callback_query_handler(text="show_help")
async def process_help_command(call: types.CallbackQuery):
    txt = "<u>–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å.</u>" \
          "<b>\n\n‚ùì –ü–æ—á–µ–º—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ 3-–≥–æ –∫—É—Ä—Å–∞ –∏ —Å—Ç–∞—Ä—à–µ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ —Å—Ç—É–¥–µ–Ω—Ç–∞–º –§–ò–¢–†?</b>" \
          "<i>\n\n–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∑–∞–Ω—è—Ç–∏–π —Å–≤–µ–¥–µ–Ω—ã –≤ –æ–¥–Ω—É —Ç–∞–±–ª–∏—Ü—É Excel —Ç–æ–ª—å–∫–æ –¥–ª—è –º–ª–∞–¥—à–∏—Ö –∫—É—Ä—Å–æ–≤." \
          " –£ —Å—Ç–∞—Ä—à–∏—Ö –∂–µ –∫—É—Ä—Å–æ–≤ –æ–Ω–æ —Ä–∞–∑–±—Ä–æ—Å–∞–Ω–æ –ø–æ –¥–µ—Å—è—Ç–∫—É —Ç–∞–±–ª–∏—Ü, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–µ—Ç –∑–∞–º–µ—Ç–Ω–æ –æ—Ç–ª–∏—á–∞—Ç—å—Å—è" \
          " –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π. " \
          "\n\n–ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å—Å—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–æ–≤," \
          " –Ω–æ –ø–æ–ª–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è –∂–¥–∞—Ç—å, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –Ω–µ —Å—Ç–æ–∏—Ç... üòî</i>" \
          "<b>\n\n‚ùì –ü–æ—á–µ–º—É –¥–µ–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–æ –ø–æ–¥–≥—Ä—É–ø–ø–∞–º –∏ –Ω–µ–¥–µ–ª—è–º –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–æ–º—É, " \
          "–∫–∞–∫ –º–æ—è –≥—Ä—É–ø–ø–∞ –≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ö–æ–¥–∏—Ç –Ω–∞ –ø–∞—Ä—ã?</b>" \
          "<i>\n\n–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤–∑—è—Ç–æ –≤ ¬´—Å—ã—Ä–æ–º¬ª –≤–∏–¥–µ –ø—Ä—è–º–æ —Å —Å–∞–π—Ç–∞ –ë–ù–¢–£. –í —Ä–∞–º–∫–∞—Ö" \
          " –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã —Å—Ç—É–¥–µ–Ω—Ç—ã, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –¥–æ–≥–æ–≤–∞—Ä–∏–≤–∞—é—Ç—Å—è –æ —á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–∏ –ø–∞—Ä –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω–∞—á–µ," \
          " —á–µ–º —Ç–∞–º –æ—Ç—Ä–∞–∂–µ–Ω–æ. –ù–æ –æ–± —ç—Ç–æ–º –∑–Ω–∞–µ—Ç–µ —Ç–æ–ª—å–∫–æ –≤—ã —Å–∞–º–∏.</i>" \
          "<b>\n\n‚ùì –ü–æ—á–µ–º—É –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–Ω—è—Ç–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–µ—á–∏—Ç–∞–µ–º—ã–º –æ–±—Ä–∞–∑–æ–º?</b>" \
          "<i>\n\n–ü—Ä–∏ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö —Ç–∞–±–ª–∏—á–µ–∫ —á–∞—Å—Ç–æ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è –æ—à–∏–±–∫–∏ –∏" \
          " —Å–ª—É—á–∞—é—Ç—Å—è —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –ø–æ —Å–º—ã—Å–ª—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. " \
          "–ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–∞–∫–æ–µ –∑–∞—Ä–∞–Ω–µ–µ –Ω–µ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ, –Ω–æ —Å—Ç–∞—Ä–∞—é—Å—å –Ω–∞–¥ —ç—Ç–∏–º —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å.</i>" \
          "\n\n<b>–ï—Å–ª–∏ –µ—Å—Ç—å –µ—â—ë –≤–æ–ø—Ä–æ—Å—ã - –ø–∏—à–∏—Ç–µ –º–Ω–µ!</b>"

    try:
        await call.message.edit_text(txt, reply_markup=options_keyboard, disable_web_page_preview=True)
    except:
        pass

    await call.answer()
    await advertise(call.from_user.id)


